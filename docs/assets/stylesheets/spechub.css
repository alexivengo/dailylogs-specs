:root{
  --badge-bg:#E0E7FF; --badge-fg:#1E3A8A;
  --ok-bg:#DCFCE7; --ok-fg:#166534;
  --fail-bg:#FEE2E2; --fail-fg:#991B1B;
  --unk-bg:#E5E7EB; --unk-fg:#374151;
}
@media (prefers-color-scheme: dark){
  :root{
    --badge-bg:#312E81; --badge-fg:#E0E7FF;
    --ok-bg:#064E3B; --ok-fg:#A7F3D0;
    --fail-bg:#7F1D1D; --fail-fg:#FECACA;
    --unk-bg:#374151; --unk-fg:#E5E7EB;
  }
}
.badges{ display:flex; gap:.5rem; align-items:center; margin:.25rem 0 1rem; flex-wrap:wrap; }
.badge{ padding:.15rem .5rem; border-radius:999px; font-size:.85em; background:var(--badge-bg); color:var(--badge-fg); }
.badge.build a.sha{ color:inherit; text-decoration:underline; }
.badge.schema.ok{ background:var(--ok-bg); color:var(--ok-fg); opacity:.9; }
.badge.schema.failed{ background:var(--fail-bg); color:var(--fail-fg); }
.badge.schema.unknown{ background:var(--unk-bg); color:var(--unk-fg); }
.copy-link{ margin-left:.5rem; padding:.2rem .5rem; border-radius:.375rem; border:1px solid transparent; background:transparent; cursor:pointer; }
.copy-link:focus{ outline:2px solid #6366F1; outline-offset:2px; }
img, svg{ max-width:100%; height:auto; }

/* Readability */
html{ font-size:17px; }
.md-typeset h1{ margin-top:.2rem; margin-bottom:.6rem; }
.md-typeset h2{ margin-top:1.2rem; margin-bottom:.4rem; }
.md-typeset p{ margin:.5rem 0 .8rem; }
.md-typeset a{ color:#1d4ed8; }
.md-typeset a:hover{ color:#1e40af; }

/* Sidebar tweaks */
.md-sidebar--primary{ width:280px; }
.md-nav__item{ line-height:1.35; }

/* Graph container */
figure.graph{ max-width:100%; margin:0; }
figure.graph object{ width:100%; height:70vh; border:0; }

/* Chips */
.md-typeset .chip{ display:inline-block; padding:.1rem .5rem; border-radius:999px; background:#eef; color:#1e3a8a; margin:.1rem .25rem; font-size:.85em; }
.md-typeset .chip a{ color:inherit; text-decoration:none; }
.md-typeset .chip a:hover{ text-decoration:underline; }

/* Focus-visible for accessibility */
:focus-visible{ outline:2px solid #6366F1 !important; outline-offset:3px; border-radius:4px; }
button:focus-visible, a:focus-visible{ box-shadow: 0 0 0 2px rgba(99,102,241,0.25); }

/* Zoom reset button */
.zoom-reset{ margin-top:.25rem; padding:.25rem .5rem; border:1px solid #CBD5E1; background:#F8FAFC; color:#0F172A; border-radius:6px; cursor:pointer; }
.zoom-reset:hover{ background:#EEF2FF; }
.zoom-reset:active{ background:#E0E7FF; }

/* Tables */
.table-toolbar{ display:flex; gap:.5rem; align-items:center; margin:.75rem 0; }
.table-toolbar input[type="search"]{ padding:.35rem .5rem; border:1px solid #CBD5E1; border-radius:6px; min-width:220px; }
.table-toolbar .btn-clear, .table-toolbar .btn-export{ padding:.35rem .6rem; border:1px solid #CBD5E1; background:#F8FAFC; color:#0F172A; border-radius:6px; cursor:pointer; }
.table-toolbar .btn-clear:hover, .table-toolbar .btn-export:hover{ background:#EEF2FF; }

.spechub-table{ width:100%; border-collapse:collapse; font-size:0.95rem; }
.spechub-table th, .spechub-table td{ padding:.5rem .6rem; border-bottom:1px solid #E5E7EB; vertical-align:top; }
.spechub-table thead th{ position:sticky; top:0; background:#FFFFFF; z-index:1; cursor:pointer; }
.spechub-table thead th[aria-sort="ascending"]::after{ content:" \25B2"; color:#64748B; }
.spechub-table thead th[aria-sort="descending"]::after{ content:" \25BC"; color:#64748B; }
.spechub-table tbody tr:nth-child(even){ background:#F8FAFC; }
.spechub-table tbody tr:hover{ background:#EEF2FF; }
.spechub-table a{ color:#1E3A8A; }
.spechub-table a:focus-visible{ outline:2px solid #6366F1; outline-offset:2px; border-radius:4px; }

.row-highlight{ animation: rowflash 1s ease-in-out 0s 1; box-shadow: inset 0 0 0 9999px rgba(99,102,241,0.12); }
@keyframes rowflash{ from{ box-shadow: inset 0 0 0 9999px rgba(99,102,241,0.18);} to{ box-shadow: inset 0 0 0 9999px rgba(99,102,241,0.12);} }

.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* Status badges */
.badge.status{ display:inline-block; padding:.1rem .4rem; border-radius:.5rem; font-size:.8em; line-height:1.3; border:1px solid transparent; }
.badge.status.todo{ background:#FEF3C7; color:#92400E; border-color:#F59E0B; }
.badge.status.in-progress{ background:#DBEAFE; color:#1E40AF; border-color:#3B82F6; }
.badge.status.done{ background:#DCFCE7; color:#166534; border-color:#22C55E; }
