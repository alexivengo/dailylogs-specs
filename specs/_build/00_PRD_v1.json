{
  "version": "1.0.0",
  "meta": {},
  "prd": [
    {
      "id": "Resume",
      "title": "Резюме (Executive Summary)",
      "desc": "DailyLogs — мобильное offline-first приложение для iPhone, ускоряет и стандартизирует ежедневную фиксацию работ на строительной площадке. Целевая аудитория: малые/средние подрядчики. MVP фокус: скорость, надёжность, офлайн, простота.",
      "scope": "mvp",
      "modules_core": [
        "4_1",
        "4_2",
        "4_3",
        "4_4"
      ],
      "modules_post_mvp": [
        "RFI",
        "Tasks",
        "Timesheets",
        "Materials",
        "Tools",
        "Checklists",
        "Members",
        "ActivityTimeline"
      ]
    },
    {
      "id": "4_1",
      "title": "Модуль: Проекты",
      "desc": "Список и карточка проекта; быстрые действия; маршрутизация в ключевые модули.",
      "scope": "mvp",
      "requirements": [
        "Список проектов: поиск/сортировка/группировка/закрепление/пустые состояния/контекстное меню",
        "Карточка проекта: ключевые атрибуты; быстрые переходы в Журнал/Документы/Галерею/Пакеты работ и др.",
        "Быстрое добавление записей/документов/ресурсов/фото/видео/участников"
      ]
    },
    {
      "id": "4_2",
      "title": "Модуль: Журнал работ (Daily Logs)",
      "desc": "Календарь, список записей, быстрое добавление, редактирование, вложения, погода, отчёт/подпись/экспорт.",
      "scope": "mvp",
      "requirements": [
        "Календарь со статусами дня и быстрым возвратом в Сегодня; запрет будущих дат",
        "Список записей по группам (Работы/Техника/Посетители) с доп. индикаторами",
        "Быстрое добавление: FAB, шорткат камеры, шаблоны, ‘Сохранить и добавить ещё’",
        "Редактирование списка и копирование записей на другие дни",
        "Привязка документов из модуля Документы",
        "Погода: авто при сети; офлайн — ручной ввод/коррекция",
        "Вложения: фото/видео, EXIF, базовая аннотация/markup",
        "Поиск/фильтры/смарт-фильтры/теги/избранное",
        "Карточка деталей записи, режим редактирования, копирование",
        "Предварительное планирование активностей в будущем",
        "Отчёт и подписание: предпросмотр PDF/A-2u, статус, блокировка дня",
        "Экспорт отчёта: PDF локально, iOS Share Sheet; Exlsx/CSV/XML/JSON/RTF/TXT/MD",
        "Импорт: стандартный iOS sharing, Reminders/Calendar/Mail, API импорт/экспорт (ограниченно)"
      ]
    },
    {
      "id": "4_3",
      "title": "Модуль: Документы",
      "desc": "Реестр документов, офлайн-хранение, базовый просмотр и привязка к записям/пакетам работ.",
      "scope": "mvp",
      "requirements": [
        "Реестр документов: категории, теги",
        "Поиск/фильтры; офлайн-хранение в контейнере приложения",
        "Просмотр PDF/изображений; простая версияция (v1, v2)",
        "Привязка к записям журнала и пакетам работ"
      ]
    },
    {
      "id": "4_4",
      "title": "Модуль: Галерея",
      "desc": "Альбом проекта, снимки из камеры, аннотации, массовые операции.",
      "scope": "mvp",
      "requirements": [
        "Альбом проекта + разрез по дням; теги/фильтры",
        "Быстрый снимок с автопривязкой к текущему дню",
        "Аннотации: рамка/стрелка/текст (минимально)",
        "Массовые операции для фото, добавление к отчёту/записи"
      ]
    },
    {
      "id": "5",
      "title": "Нефункциональные требования и стандарты",
      "desc": "Платформа, архитектура, состояние, данные, сеть, DI, логирование, доступность, зависимости, тестирование.",
      "scope": "mvp",
      "requirements": [
        "iOS 18+; iPhone-only",
        "SwiftUI-only UI; дизайн‑токены и каталоги ассетов",
        "Архитектура: MV (Model–View), навигация только во View",
        "Состояние: Observation (@Observable/@State/@Binding/@Environment)",
        "SwiftData @Model; единый save() на действие; @MainActor",
        "Swift Concurrency (async/await, AsyncSequence)",
        "URLSession + URLComponents; HTTPS-only; ATS on",
        "DI через init/@Environment; без синглтонов",
        "os.Logger; минимальная телеметрия",
        "Доступность и i18n: WCAG AA, Dynamic Type, локализация",
        "SPM-only; версии фиксированы; без тяжёлых бинарных SDK",
        "Юнит + снапшот‑тесты; зелёный CI",
        "Конфиги/секреты вне репо; Keychain для учётных данных",
        "Фичефлаги/килл‑свитч для рискованных возможностей"
      ]
    },
    {
      "id": "7",
      "title": "Навигация и UX",
      "desc": "NavigationStack с enum Route; простые пути; TipKit для пустых состояний.",
      "scope": "mvp",
      "requirements": [
        "Маршрут: Projects → ProjectDashboard → (DailyCalendar → DayLog → EntryEditor/ReportPreview) ∥ Documents → Gallery",
        "Цветовые статусы дня: черновик/подписан",
        "Крупные элементы управления, минимум вложенности",
        "TipKit для обучения в пустых состояниях"
      ]
    },
    {
      "id": "8",
      "title": "Офлайн‑поведение",
      "desc": "Операции доступны офлайн; погода авто/ручная; файлы в защищённом контейнере.",
      "scope": "mvp",
      "requirements": [
        "Все операции офлайн; один владелец устройства в MVP",
        "Погода: авто при сети, офлайн — ручной ввод",
        "Файлы/вложения: NSFileProtectionComplete",
        "iCloud sync — последующим релизом"
      ]
    },
    {
      "id": "9",
      "title": "Безопасность и приватность",
      "desc": "ATS on; HTTPS‑only; защита данных; подписи и checksum; минимизация данных.",
      "scope": "mvp",
      "requirements": [
        "ATS on; HTTPS‑only",
        "Защита файлов в покое; Keychain для секретов",
        "PDF/A‑2u отчёт + контрольная сумма; заблокированные дни неизменяемы",
        "Минимизация данных; соответствие законодательству"
      ]
    },
    {
      "id": "10",
      "title": "Локализация, доступность, дизайн‑система",
      "desc": "Локализация строк, Dynamic Type, контраст, дизайн‑токены и ассеты.",
      "scope": "mvp",
      "requirements": [
        "Локализация всех пользовательских строк",
        "Поддержка Dynamic Type, VoiceOver, достаточный контраст",
        "Дизайн‑токены и ассеты; запрет inline hex/строковых имён изображений"
      ]
    },
    {
      "id": "11",
      "title": "Аналитика и телеметрия",
      "desc": "os.Logger для тех. событий; продуктовые метрики: время до отчёта, % подписанных дней, ошибки экспорта.",
      "scope": "mvp",
      "requirements": [
        "os.Logger для storage/export/capture/navigation",
        "% подписанных дней; Time to Report; Export Success/Error",
        "Без сторонних SDK аналитики в MVP"
      ]
    }
  ]
}
